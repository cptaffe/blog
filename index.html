<html>
	<head>
		<link type="text/css" href="style.css" rel="stylesheet"/>
		<meta name="google-site-verification" content="a3A-3926CLdwHsXz0T40Z108f9qHOinDYnUdMml_6D4" />
	</head>
	<body>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

		<!-- Lame JavaScript -->

		<script>
		// kunami
		var kunami = 0;
		function kunami_code(e) {
			if (kunami < 2) {
				if(e.which == 38){kunami++;} // up, up
				else {kunami = 0;}
			} else if (kunami >= 2 && kunami < 4) {
				if(e.which == 40){kunami++;} // down, down
				else {kunami = 0;}
			} else if (kunami == 4 || kunami == 6) {
				if(e.which == 37){kunami++;} // left
				else {kunami = 0;}
			} else if (kunami == 5 || kunami == 7) {
				if(e.which == 39){kunami++;} // right
				else {kunami = 0;}
			} else if (kunami == 8) {
				if(e.which == 66){kunami++;} // B
				else {kunami = 0;}
			} else if (kunami == 9) {
				if(e.which == 65){kunami++;} // A
				else {kunami = 0;}
			} else if (kunami == 10) {
				if (e.which == 13) {
					console.log("konami(↑↑↓↓←→←→ba↩)");
					loadPage("Konami");
					kunami = 0;
				}
			}
		}

		var sites = ["Ramblings", "Projects"];
		var index = Math.round(Math.random() * (sites.length - 1));

		function loadPage(str) {
			var page = $("#viewer-thingy");
			page.fadeOut(300, function () {
				// timestamp to combat caching
				page.load("pages/"+str+".html?time="+new Date().getTime(), page.fadeIn(300));
			});
		}

		function nextPage () {
			index = (index + 1) % sites.length;
			loadPage(sites[index]);
		}

		function prevPage () {
			index = (index + (sites.length - 1)) % sites.length;
			loadPage(sites[index]);
		}

		var keypressFunc = function(e) {
			if ((e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)) {
				var key = e.keyCode;
				if (e.keyCode >= 48 && e.keyCode <= 57) {
					key -= 48;
				} else if (e.keyCode >= 96 && e.keyCode <= 105) {
					key -= 96;
				}
				loadPage(sites[key]);
			} else {
				if (kunami > 0){kunami_code(e);}
				switch(e.which) {
			        case 37: // left
			        prevPage();
			        break;

			        case 39: // right
			        nextPage();
			        break;

			        case 38: // first kunami code char
			        if (kunami == 0){kunami_code(e);}
			        break;

			        default: return; // exit this handler for other keys
			    }
			}
		    e.preventDefault(); // prevent the default action (scroll / move caret)
		};

		// keypress stuff
		$(document).keydown(keypressFunc);

		$(function () {
			loadPage(sites[index]);
		});
		</script>

		<h1 id='begin'>void main () {</h1>

		<!-- Links -->
		<h2>print("Hello!");</h2>
		<article>
			<p>
				Welcome, here are a couple of pages you might be interested in:
			</p> <p>
				<a id="Ramblings" onclick="loadPage('Ramblings');">Ramblings</a>: a page of poorly written stuffs.
			</p> <p>
				<a id="Projects" onclick="loadPage('Projects');">Projects</a>: a page of more poorly written stuffs, this time with code.
			</p>
		</article>
		<div id="buttons">
			<div onclick="prevPage();">prev</div>
			<div onclick="nextPage();">next</div>
		</div>

		<!-- Stuffs goes here -->
		<div id="viewer-thingy">
			
		</div>

		<h1 id='end'>}</h1>
	</body>
</html>
